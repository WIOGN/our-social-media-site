(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,t){},137:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(27),r=a.n(o),s=a(5),l=a(6),i=a(9),m=a(8),u=a(15),p=a(19),h=a(3),f=a.n(h),d=a(11),v=a(28),g=a.n(v),k=a(29),b=a.n(k),E=(a(70),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={linkPath:"/image?name="+e.src,imageName:"/api/getsmall/"+e.src},n}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(u.b,{to:this.state.linkPath},c.a.createElement("img",{src:this.state.imageName,className:"contentThumbnail"}))}}]),a}(c.a.Component)),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSocket=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b()("/homesystem"),n.setState({socket:t}),t.on("newUpload",function(){var e=Object(d.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.state.imageList).unshift({name:t.imageName}),n.setState({imageList:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),n.getSmallImages=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/getsmall");case 2:t=e.sent,console.log(t.data),n.setState({imageList:t.data});case 5:case"end":return e.stop()}}),e)}))),n.state={socket:null,imageList:null},n}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.state.socket&&this.state.socket.disconnect()}},{key:"componentDidMount",value:function(){this.getSmallImages(),this.handleSocket()}},{key:"render",value:function(){return this.state.imageList?c.a.createElement("div",{className:"contentContainer"},this.state.imageList.map((function(e,t){return c.a.createElement(E,{key:t,src:e.name})}))):c.a.createElement("div",null,"Loading...")}}]),a}(c.a.Component),N=a(154),j=a(155);a(26),a(137);var O=function(){return c.a.createElement(N.a,{className:"navColor"},c.a.createElement(j.a,{className:"mr-auto"},c.a.createElement(u.c,{exact:!0,to:"/",className:"nav-link navColorChange"},"Home"),c.a.createElement(u.c,{exact:!0,to:"/upload",className:"nav-link navColorChange"},"Upload")),c.a.createElement(j.a,null,c.a.createElement(u.c,{exact:!0,to:"/login",className:"nav-link navColorChange"},"Log In"),c.a.createElement(u.c,{exact:!0,to:"/signup",className:"nav-link navColorChange"},"Sign Up")))},x=(a(140),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col col-sm-6 col-md-6 col-lg-4 col-xl-3 specialBox"},c.a.createElement("h3",null,"Sign Up Form"),c.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Username",type:"text"}),c.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Password",type:"password"}),c.a.createElement("button",{className:"btn-lg btn-block signupButton"},"Sign Up"))))}}]),a}(c.a.Component)),C=(a(141),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col col-sm-6 col-md-6 col-lg-4 col-xl-3 specialBox"},c.a.createElement("h3",null,"Log In Form"),c.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Username",type:"text"}),c.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Password",type:"password"}),c.a.createElement("button",{className:"btn-lg btn-block loginButton"},"Log In"))))}}]),a}(c.a.Component)),y=(a(142),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleImageSelect=function(e){n.setState({file:e.target.files[0]})},n.handleUpload=Object(d.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",n.state.file),e.prev=2,e.next=5,g.a.post("/api/upload",t);case 5:a=e.sent,console.log(a.data.name),n.setState({uploadCompleted:a.data.name}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Error occurred while uploading");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),n.state={file:null,uploadCompleted:null},n}return Object(l.a)(a,[{key:"render",value:function(){return this.state.uploadCompleted?c.a.createElement(p.a,{to:"/image?name="+this.state.uploadCompleted}):c.a.createElement("div",{className:"container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col col-sm-6 col-md-6 col-lg-4 col-xl-3 specialBox"},c.a.createElement("h3",null,"Upload Form"),c.a.createElement("input",{type:"file",className:"form-control form-control-lg",onChange:this.handleImageSelect}),c.a.createElement("button",{className:"btn-lg btn-block uploadButton",onClick:this.handleUpload},"Upload"))))}}]),a}(c.a.Component)),S=a(80),B=a.n(S);a(72);function U(e){return c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"commentUser"},"Username Suppose to be Here"),c.a.createElement("div",null,e.comment))}var L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSocket=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=b()("/commentsystem")).on("connect",function(){var e=Object(d.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit("joinRoom",{room:n.state.imageName});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("newComment",function(){var e=Object(d.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.state.comments).unshift(t),n.setState({comments:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("OldComment",function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({comments:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.on("newVote",function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({likes:t.likes,dislikes:t.dislikes});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.setState({socket:t});case 6:case"end":return e.stop()}}),e)}))),n.handleTextAreaChange=function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({text:t.target.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmitButton=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.socket&&n.state.socket.emit("newComment",{room:n.state.imageName,comment:n.state.text});case 1:case"end":return e.stop()}}),e)}))),n.handleLike=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.socket&&n.state.socket.emit("newVote",{room:n.state.imageName,vote:!0});case 1:case"end":return e.stop()}}),e)}))),n.handleDislike=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.socket&&n.state.socket.emit("newVote",{room:n.state.imageName,vote:!1});case 1:case"end":return e.stop()}}),e)}))),n.state={imageName:e.imageName,likes:null,dislikes:null,text:null,socket:null,comments:[]},n}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.state.socket&&this.state.socket.disconnect()}},{key:"componentDidMount",value:function(){this.handleSocket()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"ratingButton",onClick:this.handleLike},"Like"),c.a.createElement("div",{className:"ratingCounter"},this.state.likes),c.a.createElement("button",{className:"ratingButton",onClick:this.handleDislike},"Dislike"),c.a.createElement("div",{className:"ratingCounter"},this.state.dislikes),c.a.createElement("div",{className:"commentBar"},"Comment Below"),c.a.createElement("div",{className:"newCommentBox"},c.a.createElement("textarea",{className:"newComment",placeholder:"Comment here...",onChange:this.handleTextAreaChange}),c.a.createElement("button",{className:"commentSubmitButton",onClick:this.handleSubmitButton},"Submit")),this.state.comments.map((function(e,t){return c.a.createElement(U,{key:t,comment:e.comment})})))}}]),a}(c.a.Component),D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={imageName:B.a.parse(n.props.location.search).name},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log(this.state.imageName)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("img",{src:"/api/getimage/"+this.state.imageName,className:"imageDisplay"}),c.a.createElement(L,{imageName:this.state.imageName}))}}]),a}(c.a.Component),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(u.a,null,c.a.createElement(O,null),c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:"/",component:w}),c.a.createElement(p.b,{exact:!0,path:"/upload",component:y}),c.a.createElement(p.b,{exact:!0,path:"/login",component:C}),c.a.createElement(p.b,{exact:!0,path:"/signup",component:x}),c.a.createElement(p.b,{exact:!0,path:"/image",component:D})))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){},72:function(e,t,a){},81:function(e,t,a){e.exports=a(151)}},[[81,1,2]]]);
//# sourceMappingURL=main.931d4258.chunk.js.map